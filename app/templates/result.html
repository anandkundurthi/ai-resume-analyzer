<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analysis Result ‚Äî ResumeAI</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        :root { --navy: #0f1e35; --navy-light: #1e3a5f; --gold: #c9a84c; --gold-light: #e8c97a; --white: #f8f6f1; --muted: #8a9bb5; --bg: #f4f6f9; --green: #16a34a; --green-bg: #f0fdf4; --green-border: #bbf7d0; --red: #dc2626; --red-bg: #fff0f0; --red-border: #fca5a5; }
        body { font-family: 'DM Sans', sans-serif; background: var(--bg); color: var(--navy); min-height: 100vh; }
        nav { background: var(--navy); padding: 0 48px; height: 64px; display: flex; align-items: center; justify-content: space-between; }
        .brand { display: flex; align-items: center; gap: 10px; text-decoration: none; }
        .brand-icon { width: 34px; height: 34px; background: linear-gradient(135deg, var(--gold), var(--gold-light)); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px; }
        .brand-name { font-family: 'Playfair Display', serif; font-size: 18px; color: var(--white); }
        .brand-name span { color: var(--gold); }
        .nav-links { display: flex; align-items: center; gap: 8px; }
        .nav-link { text-decoration: none; padding: 8px 16px; border-radius: 8px; font-size: 14px; font-weight: 500; color: var(--muted); transition: all 0.2s; }
        .nav-link:hover { color: var(--white); background: rgba(255,255,255,0.07); }
        .nav-logout { text-decoration: none; padding: 8px 16px; border-radius: 8px; font-size: 14px; font-weight: 500; color: var(--navy); background: var(--gold); transition: all 0.2s; }
        .nav-logout:hover { background: var(--gold-light); }
        main { max-width: 900px; margin: 0 auto; padding: 50px 24px; }
        .score-hero { background: var(--navy); border-radius: 20px; padding: 48px; display: flex; align-items: center; gap: 48px; margin-bottom: 28px; animation: fadeUp 0.5s ease both; position: relative; overflow: hidden; }
        .score-hero::before { content: ''; position: absolute; top: -80px; right: -80px; width: 300px; height: 300px; background: radial-gradient(circle, rgba(201,168,76,0.1) 0%, transparent 70%); }
        .score-circle { width: 140px; height: 140px; flex-shrink: 0; position: relative; }
        .score-circle svg { transform: rotate(-90deg); width: 140px; height: 140px; }
        .score-circle .track { fill: none; stroke: rgba(255,255,255,0.1); stroke-width: 10; }
        .score-circle .progress { fill: none; stroke: var(--gold); stroke-width: 10; stroke-linecap: round; stroke-dasharray: 377; stroke-dashoffset: 377; transition: stroke-dashoffset 1.5s cubic-bezier(0.4, 0, 0.2, 1); }
        .score-number { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); text-align: center; }
        .score-number .num { font-family: 'Playfair Display', serif; font-size: 36px; color: var(--white); line-height: 1; }
        .score-number .pct { font-size: 13px; color: var(--muted); }
        .score-info { flex: 1; }
        .score-info h2 { font-family: 'Playfair Display', serif; font-size: 32px; color: var(--white); margin-bottom: 10px; }
        .score-info p { font-size: 15px; color: var(--muted); line-height: 1.6; margin-bottom: 20px; font-weight: 300; }
        .score-badge { display: inline-block; padding: 6px 16px; border-radius: 20px; font-size: 13px; font-weight: 600; }
        .badge-high { background: rgba(22,163,74,0.2); color: #4ade80; }
        .badge-mid { background: rgba(234,179,8,0.2); color: #fbbf24; }
        .badge-low { background: rgba(239,68,68,0.2); color: #f87171; }
        .stats-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; margin-bottom: 28px; animation: fadeUp 0.5s 0.1s ease both; }
        .stat-card { background: white; border-radius: 14px; padding: 24px; border: 1px solid #e8edf5; box-shadow: 0 1px 8px rgba(15,30,53,0.04); text-align: center; }
        .stat-num { font-family: 'Playfair Display', serif; font-size: 36px; color: var(--navy); margin-bottom: 4px; }
        .stat-label { font-size: 13px; color: #8a9bb5; font-weight: 500; }
        .skills-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 28px; animation: fadeUp 0.5s 0.15s ease both; }
        .skills-card { background: white; border-radius: 16px; padding: 28px; border: 1px solid #e8edf5; box-shadow: 0 1px 8px rgba(15,30,53,0.04); }
        .skills-card-title { font-size: 13px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.8px; margin-bottom: 18px; display: flex; align-items: center; gap: 8px; }
        .title-green { color: var(--green); } .title-red { color: var(--red); }
        .skill-tags { display: flex; flex-wrap: wrap; gap: 8px; }
        .skill-tag { padding: 6px 14px; border-radius: 20px; font-size: 13px; font-weight: 500; }
        .tag-green { background: var(--green-bg); color: var(--green); border: 1px solid var(--green-border); }
        .tag-red { background: var(--red-bg); color: var(--red); border: 1px solid var(--red-border); }
        .empty-state { font-size: 13px; color: #a0aec0; font-style: italic; }
        .suggestions-card { background: white; border-radius: 16px; padding: 28px; border: 1px solid #e8edf5; box-shadow: 0 1px 8px rgba(15,30,53,0.04); margin-bottom: 28px; animation: fadeUp 0.5s 0.2s ease both; }
        .suggestions-title { font-size: 13px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.8px; color: #4a5568; margin-bottom: 18px; display: flex; align-items: center; gap: 8px; }
        .suggestions-title::after { content: ''; flex: 1; height: 1px; background: #e8edf5; }
        .suggestion-item { display: flex; align-items: flex-start; gap: 12px; padding: 14px 0; border-bottom: 1px solid #f0f4f8; }
        .suggestion-item:last-child { border-bottom: none; }
        .suggestion-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--gold); flex-shrink: 0; margin-top: 6px; }
        .suggestion-text { font-size: 14px; color: #4a5568; line-height: 1.6; }
        .actions { display: flex; gap: 12px; animation: fadeUp 0.5s 0.25s ease both; }
        .btn { text-decoration: none; padding: 14px 24px; border-radius: 12px; font-size: 14px; font-weight: 600; transition: all 0.2s ease; display: inline-flex; align-items: center; gap: 8px; }
        .btn-primary { background: var(--navy); color: var(--white); flex: 1; justify-content: center; }
        .btn-primary:hover { background: var(--navy-light); transform: translateY(-1px); box-shadow: 0 8px 20px rgba(15,30,53,0.2); }
        .btn-secondary { background: white; color: var(--navy); border: 1.5px solid #e2e8f0; flex: 1; justify-content: center; }
        .btn-secondary:hover { border-color: var(--navy); transform: translateY(-1px); }
        .btn-danger { background: white; color: var(--red); border: 1.5px solid #fca5a5; }
        .btn-danger:hover { background: var(--red-bg); transform: translateY(-1px); }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(16px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
<nav>
    <a href="/upload" class="brand"><div class="brand-icon">üìÑ</div><div class="brand-name">Resume<span>AI</span></div></a>
    <div class="nav-links">
        <a href="/upload" class="nav-link">Analyze</a>
        <a href="/dashboard" class="nav-link">Dashboard</a>
        <a href="/logout" class="nav-logout">Sign Out</a>
    </div>
</nav>
<main>
    <div class="score-hero">
        <div class="score-circle">
            <svg viewBox="0 0 140 140">
                <circle class="track" cx="70" cy="70" r="60"/>
                <circle class="progress" id="progressRing" cx="70" cy="70" r="60"/>
            </svg>
            <div class="score-number">
                <div class="num">{{ score }}</div>
                <div class="pct">% match</div>
            </div>
        </div>
        <div class="score-info">
            {% if score >= 80 %}
                <h2>Excellent Match!</h2>
                <p>Your resume is strongly aligned with this role. You are a competitive candidate.</p>
                <span class="score-badge badge-high">‚úì Strong Fit</span>
            {% elif score >= 60 %}
                <h2>Good Match</h2>
                <p>You have a solid foundation. Closing the skill gaps below will boost your chances.</p>
                <span class="score-badge badge-mid">‚óë Moderate Fit</span>
            {% elif score >= 40 %}
                <h2>Partial Match</h2>
                <p>There are meaningful gaps. Focus on the missing skills to become more competitive.</p>
                <span class="score-badge badge-low">‚ñ≥ Partial Fit</span>
            {% else %}
                <h2>Low Match</h2>
                <p>This role requires skills not yet in your resume. Use the suggestions below to improve.</p>
                <span class="score-badge badge-low">‚úó Low Fit</span>
            {% endif %}
        </div>
    </div>
    <div class="stats-row">
        <div class="stat-card"><div class="stat-num" style="color: var(--green);">{{ matched | length }}</div><div class="stat-label">Matched Skills</div></div>
        <div class="stat-card"><div class="stat-num" style="color: var(--red);">{{ missing | length }}</div><div class="stat-label">Missing Skills</div></div>
        <div class="stat-card"><div class="stat-num">{{ (matched | length) + (missing | length) }}</div><div class="stat-label">Total Required</div></div>
    </div>
    <div class="skills-grid">
        <div class="skills-card">
            <div class="skills-card-title title-green">‚úÖ Matched Skills</div>
            <div class="skill-tags">
                {% if matched %}{% for skill in matched %}<span class="skill-tag tag-green">{{ skill }}</span>{% endfor %}
                {% else %}<span class="empty-state">No matched skills found</span>{% endif %}
            </div>
        </div>
        <div class="skills-card">
            <div class="skills-card-title title-red">‚ùå Missing Skills</div>
            <div class="skill-tags">
                {% if missing %}{% for skill in missing %}<span class="skill-tag tag-red">{{ skill }}</span>{% endfor %}
                {% else %}<span class="empty-state">No missing skills ‚Äî great job!</span>{% endif %}
            </div>
        </div>
    </div>
    <div class="suggestions-card">
        <div class="suggestions-title">üöÄ Career Suggestions</div>
        {% for item in suggestions %}
        <div class="suggestion-item"><div class="suggestion-dot"></div><div class="suggestion-text">{{ item }}</div></div>
        {% endfor %}
    </div>
    <div class="actions">
        <a href="/dashboard" class="btn btn-secondary">üìä View Dashboard</a>
        <a href="/upload" class="btn btn-primary">Run New Analysis ‚Üí</a>
        <a href="/logout" class="btn btn-danger">Sign Out</a>
    </div>
</main>
<script>
    const score = {{ score }};
    const circumference = 2 * Math.PI * 60;
    const offset = circumference - (score / 100) * circumference;
    setTimeout(() => { document.getElementById('progressRing').style.strokeDashoffset = offset; }, 300);
</script>
</body>
</html>
